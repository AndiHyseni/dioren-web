<!DOCTYPE html>
<html lang="sq">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dioren Foods - Cilësi & freski në çdo produkt</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="animations.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <!-- Header Section -->
    <header>
      <div class="container">
        <div class="logo">
          <a href="index.html">
            <img src="images/logo.svg" alt="Dioren Foods Logo" />
          </a>
        </div>
        <nav>
          <ul class="nav-links">
            <li><a href="index.html" class="active">Ballina</a></li>
            <li><a href="about.html">Rreth nesh</a></li>
            <li><a href="brands.html">Brendet</a></li>
            <li><a href="catalog.html">Katalogu</a></li>
            <li><a href="contact.html">Kontakti</a></li>
          </ul>
          <div class="catalog-btn">
            <a
              href="https://drive.google.com/uc?export=download&id=1L4R-Uh8dBeUzAsqB9uFWeHBc9bHrSfhp"
              class="btn btn-primary"
              download
            >
              <i class="fas fa-download"></i> Shkarko Katalogun
            </a>
          </div>
          <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1>Cilësi & freski në çdo produkt</h1>
          <p>Ushqime të zgjedhura me kujdes për ju</p>
          <a
            href="https://drive.google.com/uc?export=download&id=1L4R-Uh8dBeUzAsqB9uFWeHBc9bHrSfhp"
            class="btn btn-primary"
            download
          >
            <i class="fas fa-download"></i> Shkarko Katalogun
          </a>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features">
      <div class="container">
        <div class="features-grid">
          <div class="feature-card fade-in-up stagger-delay-1">
            <div class="feature-icon">
              <i class="fas fa-truck"></i>
            </div>
            <h3>Transport i shpejtë & sigurt</h3>
            <p>Fleksibilitet & garanci në dërgesa</p>
          </div>
          <div class="feature-card fade-in-up stagger-delay-2">
            <div class="feature-icon">
              <i class="fas fa-handshake"></i>
            </div>
            <h3>Partnerë të besueshëm</h3>
            <p>Brendet më të mira në treg</p>
          </div>
          <div class="feature-card fade-in-up stagger-delay-3">
            <div class="feature-icon">
              <i class="fas fa-certificate"></i>
            </div>
            <h3>Produkte të çertifikuara</h3>
            <p>Burime të sigurta furnizimi</p>
          </div>
          <div class="feature-card fade-in-up stagger-delay-4">
            <div class="feature-icon">
              <i class="fas fa-headset"></i>
            </div>
            <h3>Përkujdesje ndaj klientit 24/7</h3>
            <p>Mbështetje për çdo nevojë</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section class="products">
      <div class="container">
        <div class="section-header fade-in-up">
          <h2>Top produktet tona</h2>
        </div>
        <div class="products-grid">
          <div class="product-category fade-in-up stagger-delay-1">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img src="images/products/cheese.jpg" alt="Djathra" />
            </div>
            <h3>Djathra</h3>
            <a href="catalog.html?filter=djath" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
          <div class="product-category fade-in-up stagger-delay-2">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img src="products/dioren paqeta ulli 2.png" alt="Ulllinjë" />
            </div>
            <h3>Ulllinjë</h3>
            <a href="catalog.html?filter=ullinj" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
          <div class="product-category fade-in-up stagger-delay-3">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img src="products/dioren-kastravec.png" alt="Turshi" />
            </div>
            <h3>Turshi</h3>
            <a href="catalog.html?filter=turshi" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
          <div class="product-category fade-in-up stagger-delay-4">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img
                src="images/products/Vala Fritex 18L 1.png"
                alt="Vajra & Uthull"
              />
            </div>
            <h3>Vajra</h3>
            <a href="catalog.html?filter=vajra-uthull" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
          <div class="product-category fade-in-up stagger-delay-1">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img src="images/products/Asset 22 1.png" alt="Salca" />
            </div>
            <h3>Salca</h3>
            <a href="catalog.html?filter=salca" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
          <div class="product-category fade-in-up stagger-delay-2">
            <div
              class="product-image"
              style="max-width: 200px; margin-bottom: 20px"
            >
              <img src="products/24-Edit 1.png" alt="Toppings" />
            </div>
            <h3>Toppings</h3>
            <a href="catalog.html?filter=toppings" class="btn btn-outline"
              >Shiko më shumë</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Partners Section -->
    <section class="partners">
      <div class="container">
        <div class="section-header fade-in-up">
          <h2>Partnerët tanë</h2>
        </div>
        <div class="partners-grid">
          <div class="partner-logo fade-in-up stagger-delay-1">
            <img src="images/partners/princ.png" alt="Princ" />
          </div>
          <div class="partner-logo fade-in-up stagger-delay-2">
            <img src="images/partners/eko-sharr.png" alt="EKO SHARR" />
          </div>
          <div class="partner-logo fade-in-up stagger-delay-3">
            <img
              src="images/partners/intercomm.png"
              alt="INTERCOMM FOODS S.A."
            />
          </div>
          <div class="partner-logo fade-in-up stagger-delay-4">
            <img src="images/partners/zdravje.png" alt="ZDRAVJE" />
          </div>
          <div class="partner-logo fade-in-up stagger-delay-1">
            <img src="images/partners/savola.png" alt="SAVOLA WORLD" />
          </div>
          <div class="partner-logo fade-in-up stagger-delay-2">
            <img src="images/partners/aquadejonhem.png" alt="Aqua Dejon Hem" />
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo fade-in-up">
            <img src="images/logo.svg" alt="Dioren Foods Logo" />
          </div>
          <div
            class="footer-info fade-in-up stagger-delay-1"
            style="
              display: flex;
              justify-content: center;
              flex-direction: column;
            "
          >
            <p>
              <strong>Adresa e depos:</strong>
              <span id="address">Mavriqi, Kastriot 15000</span>
            </p>
            <p>
              <strong>Email:</strong>
              <a href="mailto:info@dioren-ks.com">info@dioren-ks.com</a>
            </p>
            <p>
              <strong>Numri i telefonit:</strong>
              <a href="tel:+38349576623">+383 49 576 623</a>
            </p>
          </div>
          <div
            class="footer-social fade-in-up stagger-delay-2"
            style="display: flex; justify-content: flex-end"
          >
            <a
              href="https://www.facebook.com/profile.php?id=61557428339866"
              target="_blank"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a
              href="https://www.instagram.com/diorenfoodindustry/"
              target="_blank"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>
        <div class="footer-bottom fade-in-up stagger-delay-3">
          <p>&copy; 2025 Dioren Foods. Të gjitha të drejtat e rezervuara.</p>
        </div>
      </div>
    </footer>

    <script src="script.js"></script>
    <script src="animations.js"></script>
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Initialize Swiper -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var swiper = new Swiper(".testimonials-swiper", {
          effect: "coverflow",
          grabCursor: true,
          centeredSlides: true,
          slidesPerView: "auto",
          spaceBetween: 0,
          initialSlide: 1,
          loop: true,
          loopedSlides: 5,
          coverflowEffect: {
            rotate: 5,
            stretch: 0,
            depth: 100,
            modifier: 2,
            slideShadows: true,
          },
          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          autoplay: {
            delay: 5000,
            disableOnInteraction: false,
          },
          breakpoints: {
            320: {
              slidesPerView: 1,
              spaceBetween: 0,
            },
            768: {
              slidesPerView: "auto",
              spaceBetween: 0,
            },
            992: {
              slidesPerView: "auto",
              spaceBetween: 0,
            },
          },
        });
      });
    </script>

    <!-- Timeline Scrolling Script -->
    <script>
      // Get necessary elements
      const scrollSection = document.querySelector(".timeline-section");
      const scrollObject = document.querySelector(".scroll-timeline");
      const timelinePoints = document.querySelectorAll(".timeline-point");

      // Check if elements exist
      if (!scrollObject || !timelinePoints.length || !scrollSection) {
        console.error("Required timeline elements not found");
      }

      let currentPointIndex = 0;
      let isTimelineActive = false;
      let hasCompletedTimeline = false;
      let lastScrollTime = Date.now();

      // Initialize first point as active
      timelinePoints[0].classList.add("active");

      // Get positions for each timeline point
      const pointPositions = Array.from(timelinePoints).map((point) => {
        const rect = point.getBoundingClientRect();
        return rect.top + window.scrollY;
      });

      // Function to update active point
      function updateActivePoint(index) {
        // Ensure index is within bounds
        index = Math.max(0, Math.min(index, timelinePoints.length - 1));
        currentPointIndex = index;

        // Update active classes
        timelinePoints.forEach((point) => point.classList.remove("active"));
        timelinePoints[index].classList.add("active");

        // Scroll to the active point
        const targetPoint = timelinePoints[index];
        const targetRect = targetPoint.getBoundingClientRect();
        const scrollOffset =
          targetRect.top + window.scrollY - window.innerHeight / 2;

        window.scrollTo({
          top: scrollOffset,
          behavior: "smooth",
        });

        // Check if we've reached the end
        if (index === timelinePoints.length - 1) {
          setTimeout(() => {
            // Mark timeline as completed
            hasCompletedTimeline = true;
            isTimelineActive = false;
          }, 1000);
        }
      }

      // Function to check if we should activate the timeline
      function checkTimelineActivation() {
        // If timeline is already completed, don't activate
        if (hasCompletedTimeline) return false;

        const rect = scrollSection.getBoundingClientRect();
        const threshold = window.innerHeight * 0.3;

        // Check if the timeline section is in the viewport
        return (
          rect.top <= threshold &&
          rect.bottom >= threshold &&
          rect.height > threshold
        );
      }

      // Scroll event handler
      window.addEventListener("scroll", () => {
        // Check if we should activate the timeline
        const shouldActivate = checkTimelineActivation();

        // Activate timeline if conditions are met
        if (shouldActivate && !isTimelineActive) {
          isTimelineActive = true;

          // Scroll to position the timeline section properly
          const rect = scrollSection.getBoundingClientRect();
          const targetScroll =
            window.scrollY + rect.top - window.innerHeight * 0.3 + 1;
          window.scrollTo({
            top: targetScroll,
            behavior: "smooth",
          });
        }
      });

      // Wheel event handler - only used when timeline is active
      window.addEventListener("wheel", (e) => {
        // If timeline is completed, don't interfere
        if (hasCompletedTimeline) return;

        const now = Date.now();
        const timeSinceLastScroll = now - lastScrollTime;

        // If we're in the timeline section and haven't completed it yet
        if (timeSinceLastScroll >= 50) {
          lastScrollTime = now;

          // Only process if timeline is active
          if (isTimelineActive) {
            e.preventDefault();

            if (e.deltaY > 0) {
              // Scrolling down
              if (currentPointIndex < timelinePoints.length - 1) {
                updateActivePoint(currentPointIndex + 1);
              }
            } else {
              // Scrolling up
              if (currentPointIndex > 0) {
                updateActivePoint(currentPointIndex - 1);
              } else if (!hasCompletedTimeline) {
                // Allow scrolling up from the first point
                isTimelineActive = false;
              }
            }
          }
        }
      });

      // Touch handling for mobile devices
      let touchStartY = 0;
      let touchEndY = 0;

      window.addEventListener("touchstart", (e) => {
        if (hasCompletedTimeline) return;
        touchStartY = e.touches[0].clientY;
      });

      window.addEventListener("touchmove", (e) => {
        if (hasCompletedTimeline) return;
        touchEndY = e.touches[0].clientY;

        // If we're in the timeline section
        if (isTimelineActive) {
          e.preventDefault();
        }
      });

      window.addEventListener("touchend", () => {
        const diff = touchStartY - touchEndY;
        const threshold = 50; // Minimum swipe distance

        if (diff > threshold && currentPointIndex < timelinePoints.length - 1) {
          updateActivePoint(currentPointIndex + 1);
        } else if (diff < -threshold && currentPointIndex > 0) {
          updateActivePoint(currentPointIndex - 1);
        }
      });

      // Click handler for timeline points
      timelinePoints.forEach((point, index) => {
        point.addEventListener("click", () => {
          if (!hasCompletedTimeline) {
            isTimelineActive = true;
            updateActivePoint(index);
          }
        });
      });

      // Keyboard navigation
      window.addEventListener("keydown", (e) => {
        // Only handle keyboard events when timeline is active and not completed
        if (!isTimelineActive || hasCompletedTimeline) return;

        if (e.key === "ArrowDown" || e.key === "ArrowRight") {
          e.preventDefault();
          if (currentPointIndex < timelinePoints.length - 1) {
            updateActivePoint(currentPointIndex + 1);
          }
        } else if (e.key === "ArrowUp" || e.key === "ArrowLeft") {
          e.preventDefault();
          if (currentPointIndex > 0) {
            updateActivePoint(currentPointIndex - 1);
          }
        }
      });

      // Set up intersection observer to detect when timeline is in view
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            // If timeline is entering the viewport and we haven't completed it
            if (entry.isIntersecting && !hasCompletedTimeline) {
              const shouldActivate = checkTimelineActivation();
              if (shouldActivate) {
                isTimelineActive = true;
                updateActivePoint(currentPointIndex);
              }
            }
          });
        },
        { threshold: 0.3 }
      );

      // Start observing the timeline section
      observer.observe(scrollSection);
    </script>
  </body>
</html>
